function e(e,t,o,s){Object.defineProperty(e,t,{get:o,set:s,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},s={},n=t.parcelRequirec21a;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in s){var t=s[e];delete s[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){s[e]=t},t.parcelRequirec21a=n),n.register("kOHZq",(function(t,o){e(t.exports,"isEmpty",(()=>a));var s=n("k8Jq9");const r={};console.log("Start");function a(e){for(const t in e)if(Object.prototype.hasOwnProperty(t))return!1;return!0}document.querySelector("form").addEventListener("submit",(e=>{e.preventDefault(),document.querySelectorAll("input").forEach((e=>(null!==e.value&&""!==e.value&&(r[e.name]=e.value),async function(e){console.log("Start");const t=await(0,s.findUserInDb)(e);a(t)?(console.log("Logging in"),localStorage.setItem("user",JSON.stringify(Object.values(t))),setTimeout((()=>{location.assign("./html/profile.html")}),1e3)):console.log("Error")}(r),!1)))}))})),n.register("k8Jq9",(function(t,o){async function s(e){const t=await n();return console.log(t),function(e,t){let o={};if(console.log("VALIDATION"),null!==e)for(const s of e)s.userName===t.userName&&s.password===t.password&&(console.log("User found!"),o=s,console.log(o));else console.log("user not found");return o}(t,e)}async function n(){const e=await fetch("https://js2-social-media-default-rtdb.europe-west1.firebasedatabase.app/users.json");return await e.json()}async function r(e){const t=await n();for(let o=0;o<t.length;o++)if(void 0!==e&&t[o].userName===e.getUserName()&&t[o].password===e.getPassword())return o}async function a(e){console.log(e);const t=`https://js2-social-media-default-rtdb.europe-west1.firebasedatabase.app/users/${e}/posts.json`,o=await fetch(t),s=await o.json();return console.log(s),s}async function l(e,t){const o=`https://js2-social-media-default-rtdb.europe-west1.firebasedatabase.app/users/${e}/posts.json`,s={method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}},n=(await fetch(o,s)).json();console.log(n)}async function i(e){const t=await n();let o=0;null!==t&&(o=t.length);const s=`https://js2-social-media-default-rtdb.europe-west1.firebasedatabase.app/users/${o}.json`,r={method:"PUT",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}},a=(await fetch(s,r)).json();console.log(a)}e(t.exports,"findUserInDb",(()=>s)),e(t.exports,"getAllUsers",(()=>n)),e(t.exports,"getUserIndex",(()=>r)),e(t.exports,"getPostsFromDb",(()=>a)),e(t.exports,"addPostsToDb",(()=>l)),e(t.exports,"addUserToDb",(()=>i))}));
//# sourceMappingURL=index.853d11ec.js.map
