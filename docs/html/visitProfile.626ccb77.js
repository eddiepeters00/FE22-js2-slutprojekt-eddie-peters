function e(e,t,n,s){Object.defineProperty(e,t,{get:n,set:s,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},o=t.parcelRequirec21a;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){s[e]=t},t.parcelRequirec21a=o),o.register("27Lyk",(function(t,n){var s,o;e(t.exports,"register",(()=>s),(e=>s=e)),e(t.exports,"resolve",(()=>o),(e=>o=e));var r={};s=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},o=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("27Lyk").register(JSON.parse('{"6tDfU":"visitProfile.626ccb77.js","bUv6T":"cat-profile.531b76bc.jpg","4all4":"mona-profile.898dc249.jpg","jqkbg":"thing-profile.9db302f0.jpg"}'));class r{constructor(e,t,n,s,o=[]){this.imgUrl=e,this.name=t,this.password=n,this.userName=s,this.posts=o}getName(){return this.name}getUserName(){return this.userName}getPassword(){return this.password}getImgUrl(){return this.imgUrl}getPosts(){return this.posts}setPosts(e){this.posts=e}addPost(e){this.posts.push(e)}removePost(e){}}var a={};a=new URL("../"+o("27Lyk").resolve("bUv6T"),import.meta.url).toString();var l={};l=new URL("../"+o("27Lyk").resolve("4all4"),import.meta.url).toString();var i={};function c(e,t){let n=new URL(a);switch(t){case"../images/cat-profile.jpg":n=new URL(a),e.src=n.href;break;case"../images/mona-profile.jpg":n=new URL(l),e.src=n.href;break;case"../images/thing-profile.jpg":n=new URL(i),e.src=n.href;break;default:console.log("URL is not recognized")}}async function d(){const e=await fetch("https://js2-social-media-default-rtdb.europe-west1.firebasedatabase.app/users.json");return await e.json()}async function u(e){const t=await d();for(let n=0;n<t.length;n++){const s=t[n];if(s&&void 0!==e&&s.userName===e.getUserName())return n}}async function g(e){console.log(e);const t=`https://js2-social-media-default-rtdb.europe-west1.firebasedatabase.app/users/${e}/posts.json`,n=await fetch(t),s=await n.json();return console.log(s),s}i=new URL("../"+o("27Lyk").resolve("jqkbg"),import.meta.url).toString();const m=document.getElementById("side-nav"),p=document.getElementById("open-btn"),f=document.getElementById("close-btn");p.addEventListener("click",(()=>{m.style.width="60%"})),f.addEventListener("click",(()=>{m.style.width="0"}));const h=function(e){const t=localStorage.getItem(e);if(console.log(t),null!==t){if("user"===e){const e=JSON.parse(t);if("object"==typeof e[3]||""===e[3]){const t=new r(e[0],e[1],e[2],e[4]);return console.log(t),t}{const t=new r(e[0],e[1],e[2],e[3]);return console.log(t),t}}{const e=JSON.parse(t),n=new r(e[2],e[0],"password",e[1]);return console.log(n),n}}}("visitUser");console.log(h),void 0!==h&&(!function(e){console.log(localStorage.getItem("user"));const t=localStorage.getItem("user");if(null!==t){const n=JSON.parse(t);console.log(n);document.getElementById("profile-name").innerText=e.getUserName();c(document.getElementById("profile-img"),e.getImgUrl());document.getElementById("menu-profile-name").innerText=n[1];const s=n[0],o=document.getElementById("menu-profile-img");console.log(o),c(o,s)}}(h),async function(e){const t=await u(e);if(console.log("USERINDEX",t),null!=t){console.log(t);const n=await g(t);if(null!==n){console.log("USERPOSTS",n);const t=[];n.forEach((e=>{t.push(e)})),e.setPosts(t),function(e){if(0!==e.getPosts().length){const t=document.getElementById("posts-container");t.innerHTML="",e.getPosts().forEach((e=>{const n=document.createElement("div");n.classList.add("post"),t.append(n);const s=document.createElement("div");s.classList.add("post-info");const o=document.createElement("span"),r=document.createElement("span");o.innerText=e.sender,r.innerText=e.date,s.append(o,r),n.append(s);const a=document.createElement("div");a.classList.add("post-message");const l=document.createElement("p");l.classList.add("message"),l.innerText=e.message,a.append(l),n.append(a)}))}else console.log("User has no posts")}(e)}else console.log("User has no posts")}}(h).then((async function(){const e=await d();e.forEach((t=>{const n=document.getElementById("user-list");if(null!==n&&n.children.length<e.length&&null!==t){const e=document.createElement("a");e.innerText=t.userName;const s={name:t.name,userName:t.userName,imgUrl:t.imgUrl,posts:t.posts};e.ariaValueText=JSON.stringify(s),n.appendChild(e),e.addEventListener("click",(()=>{if(e.ariaValueText){console.log(e.ariaValueText);const t=JSON.parse(e.ariaValueText);localStorage.setItem("visitUser",JSON.stringify(Object.values(t))),console.log(localStorage.getItem("visitUser"))}location.assign("./visitProfile.html")}))}}))})));
//# sourceMappingURL=visitProfile.626ccb77.js.map
